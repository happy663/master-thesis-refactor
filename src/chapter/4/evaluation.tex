
\section{xDR Challenge 2023 環境での評価}

xDR Challenge 2023の環境についてあらためて詳細に説明する．
対象施設は高速道路のサービスエリアである．
対象の建物は2つあり，1つは2階建て，もう1つは平屋である．
提供される訓練データとスコアリングデータの詳細を表\ref{table:data}に示す．
BLEビーコンとしてMyBeacon(Aplix)\cite{beacon-aplix}を利用し，BLE信号は0.1秒ごとに発信される．
ビーコンの位置は，フロアマップの座標の (x, y, z) 位置として提供される．
競技に使用される9軸IMUセンサデータはAQUOS Sense 6（SHARP）である．
正解のデータはハンドヘルド LiDAR (GeoSLAM ZEB-Horizon) を使用して約 100 Hz で測定されたものである．
サンプリングデータは歩行時間が54秒から667秒までの全323個のデータが提供された．
スコアリングデータは歩行時間が134秒から234秒までの全9個のデータが提供された．
スコアリングはBLEビーコンからのスッキャンデータがないものとあるものでそれぞれ行われる．
9データのうち3個がBLEビーコンのスキャンデータが与えられず，
残りの6個にはBLEビーコンのスキャンデータが与えられる．

\begin{table*}[ht]
    \centering
    \caption{提供データの概要}
    \begin{tabularx}{\textwidth}{|X|l|X|l|l|}
        \hline
        データタイプ & 測定デバイス & レート & 訓練データ & スコアリングデータ \\ \hline
        加速度 & AQUOS Sense 6 & 約100Hz & 使用可能 & 使用可能 \\ \hline
        角速度 & AQUOS Sense 6 & 約100Hz & 使用可能 & 使用可能 \\ \hline
        磁気 & AQUOS Sense 6 & 約100Hz & 使用可能 & 使用可能 \\ \hline
        BLE RSSI & AQUOS Sense 6 & 10Hzのビーコンから送信，AQUOS Sense 6で受信時に記録 & 使用可能 & 使用可能 \\ \hline
        正解位置 (Ground Truth) (x, y, z) & ZEB-Horizon & 約100Hz & 使用可能 & 始めと終わりのみ使用可能 \\ \hline
        正解姿勢 (Ground Truth) (四元数) & ZEB-Horizon & 約100Hz & 使用可能 & 始めと終わりのみ使用可能 \\ \hline
        正解階層名 (Ground Truth) & - & 各パスの1階層名 & 使用可能 & 使用可能 \\ \hline
    \end{tabularx}
    \label{table:data}
\end{table*}


xDR Challenge 2023では，PDRベンチマーク標準化委員会によって提供された評価フレームワークを使用して評価が行われた．
このフレームワークでは5つの評価指標が用いられている．正解値との誤差絶対量を示す円形誤差(l\_ce)は，
正解座標データと時間的に最も近い軌跡のユークリッド距離を計測し，その中央値を評価に用いる．
誤差のXY分布傾向の偏りを示す局所空間における円形精度(l\_ca)は，誤差XY分布の最頻値座標と誤差原点(0,0)までの距離を測定し，
エリアごとのCAの加重和として評価される．PDRの誤差累積スピードを示す誤差蓄積勾配(l\_eag)は，
絶対位置測位が適用不能な区間(ALIP)内の評価点と時間的に最も近い座標公開点との時間差に対する誤差絶対量の割合を計算し，
その中央値を用いる．
また，局所的な歩行速度の適正さを評価する速度誤差(l\_ve)では，
測位軌跡の構成点における局所的な歩行速度が1.5m/sの基準値以下であるかを確認する．
さらに，軌跡が通行可能なエリアを通過しているかを確認する障害物回避要件(l\_obstacle)は，
軌跡を構成するすべての点が通行可能エリアにあるかをチェックする．
総合評価指標は式\ref{eq:evaluation_index}に示す重み付き和によって計算される

\begin{equation}
	\begin{aligned}
		I_i = & W_{ce} \times I_{ce} + W_{ca} \times I_{ca}                                        \\
		      & + W_{eag} \times I_{eag} + W_{ve} \times I_{ve} + W_{obstacle} \times I_{obstacle}
	\end{aligned}
	\label{eq:evaluation_index}
\end{equation}

本ライブラリの評価結果の概要を表\ref{table:evaluation_index}に示す．
l\_ce（88.55），l\_eag（93.02），l\_ve（95.55），l\_obstacle（93.48）において一定の精度を達成できた．
特に速度誤差と障害物回避要件では95点前後の高いスコアを記録し，基本的なPDRアルゴリズムとフロアマップの補正が効果的に機能しているのが示された．
しかし，局所空間における円形精度（l\_ca）は62.51点と著しく低い結果となった．
この問題の主な要因として，環境条件の変化やセンサデータの微細な変動が位置推定結果に過度に影響を与えている可能性がある．
また提案手法が比較的シンプルな構成であり，複雑な環境変化への対応力が限定的である課題も明らかとなった．

xDR Challenge 2023における上位スコアのチームは，深層学習を活用した高度なアプローチを採用によって環境変化に対するロバスト性を実現していた．
具体的には，マップマッチングにおいてニューラルネットワークを用いた環境特徴の自動抽出・学習など，より洗練された手法が採用されていた．
これらの技術的アプローチの違いが，特に局所空間における円形精度の性能差として顕著に表れた．このような結果から，
今後は深層学習などの先進的な手法の導入を検討し，環境変化に対するロバスト性の向上が必要である．


% % TODO: 今後の課題に入れてもいいかも
% これらの課題を解決するために，以下の改善が必要である．第一に，
% センサデータの前処理段階でのノイズ除去とフィルタリングの最適化により，
% 入力データの品質向上を図る．
% 第二に，位置推定の不確実性をより効果的に扱うための確率的アプローチの導入を検討する．
% 具体的には，異なるセンサ情報の特性を統合的に考慮できる推定手法の開発が重要である．
% 例えば，パーティクルフィルタなどの確率的手法を部分的に導入によって
% センサデータの不確実性をより柔軟に扱える．
% このアプローチにより，環境変化に対するロバスト性を向上させ，
% 特に局所空間における位置推定の精度改善が期待できる．ただし，
% 手法の複雑さと計算コストのバランスを慎重に考慮し，実用性を損なわない範囲で性能向上を目指す必要がある．

\begin{table}[ht]
	\caption{評価結果の概要}
	\centering
	\begin{tabular}{l|l|l}
		\hline
		指標                        & 値 (\%) & 重み   \\ \hline
		l\_ce（CE：円形誤差）            & 88.55  & 0.25 \\
		l\_ca（CA\_l：局所空間における円形精度） & 62.51  & 0.20 \\
		l\_eag（EAG：誤差蓄積勾配）        & 93.02  & 0.25 \\
		l\_ve（VE：速度誤差）            & 95.55  & 0.15 \\
		l\_obstacle（障害物回避要件）      & 93.48  & 0.15 \\
		l (総合評価指数)                & 86.25  &      \\ \hline
	\end{tabular}
	\label{table:evaluation_index}
\end{table}


