


\chapter{関連研究}


\section{屋内位置推定}

絶対位置推定に関する研究がある．
これは特定の基準点からの情報を元に位置を推定する手法である．
例えばBluetoothやWi-Fiなどの電波を利用した推定手法がある．
これらの電波を利用した推定手法はTriangulation方式，
FP方式，Proximity方式の3つに分類される
\cite{wireless-lan-summary}．
Triangulation方式を使用した研究として屋内に設置した近接特化型のBLEビーコン3つからの電波強度を
利用して三角測量を行い位置推定を行う研究がある\cite{ble-indoor}\cite{ble-tandem}\cite{triangulation-kalman}．
FP方式は特定の地点でのAPからの電波強度モデルを作成して，
実際の測定値をこのモデルの情報と照合して位置を推定する方式である．
この方式はデータ収集コストが大きい点やモデルを作成しても
環境の変化によってモデルの信頼性が低下してしまう問題があり，
それらの問題への対策を行った様々な研究がある．
\cite{gaussian-mixture-model}
\cite{wireless-lan-cost-reduction}
\cite{fingerprint-auto-update}
\cite{wi-fi-fingerprint-domain}．
Promixity方式は特定のAPからの強い電波を受信した際，
そのAP付近にいると見なし推定する手法である．
これらの手法は状況に合わせて使いわけを行い組み合わせるとより精度の高い位置推定が可能である．
Proximity方式とFP方式を併用した推定手法に関する研究がある\cite{proximity-fingerprint}．
この研究ではWi-FiのFP方式で位置を推定する前に有用に推定可能なAPの絞りこみを行っている．
電波以外の推定手法として磁気データを使用して位置推定を行う研究\cite{pdr-mag}や，
赤外線を使用して位置推定を行う研究\cite{infrared}，カメラを利用した研究\cite{camera}などがある．


PDRと絶対位置推定を組み合わせて屋内位置推定を行う研究が多く提案されている．
PDRは手法の性質上ある地点からの相対的な位置を推定する手法であるため，
位置推定をするためには絶対位置推定と組み合わせる必要がある．
またPDRには1章で述べた誤差が蓄積する問題も存在する．

Wi-Fiやビーコンなどの電波を利用してPDRを補正する研究として，
PDRとWi-Fiの受信強度を用いたProximityの位置推定を行う研究\cite{pdr-wifi}や，
BLEビーコンの受信信号強度の変異を利用した移動変異推定とPDRとの併用による
累積測位誤差の補正を行う研究\cite{pdr-ble}がある．
これらの研究では電波強度が特定の閾値を超えた場合に絶対位置推定への切り替えによって
PDRで生じる誤差の補正を実現している．

建物の構造情報を利用する手法として，PDRとマップマッチングを組み合わせた
研究\cite{pdr-map}\cite{additional-map-matching-paper}がある．
これらの研究では歩行可能な領域の情報を用いて軌跡を補正するだけでなく，
歩幅の動的な更新や進行方向の補正なども行っている．また，3次元の位置推定
として，気圧センサを組み合わせて階層の推定を行う研究\cite{3d-pdr-paper}
も提案されている．

% TODO:3 ここが少ないのでなんとかしたい
本研究でもPDRによる位置推定を行い，その結果に対してBLEビーコンの電波強度を使用した補正やマップマッチングによる
補正などが行えるライブラリを検討する．
さらに初期位置や終了位置の有無などの様々な状況の情報で補正できるようなライブラリの検討を目指す．

% TODO:3.大きめの図を入れてもいいかもしれない
% TODO:3.関連研究の文章がたりない

\section{PDRライブラリ}

PDRライブラリの実装として，まずOpenShoe\cite{openshoe}が挙げられる．
OpenShoeはフットマウントIMUを用いたPDRシステムのオープンソース実装である．
足の動きの直接計測によって高精度な歩行軌跡の推定を実現している．
特徴的な点として，Zero Velocity Update (ZUPT)と呼ばれる手法を採用しており，
足が地面に着地した際の速度がゼロになる制約を活用して累積誤差を抑制している．
また，拡張カルマンフィルタを用いた状態推定により，センサのバイアス誤差や
ドリフト誤差を補正している．しかし，このライブラリはフットマウントIMU
という特殊なデバイスに依存しており，スマートフォンなど一般的なデバイスでの
利用は想定されていない．

PDR Plus\cite{pdr-plus}は産総研発スタートアップであるサイトセンシングが
提供しているAndroid端末向けの自律航法測位システムである．このライブラリは
スマートフォンの内蔵センサから取得できる加速度，角速度，磁気の情報を用いて，
姿勢推定，方位補正，移動検出，進行方向を推定する．さらに特徴的な点として，
BLEビーコンやフロアマップなどの環境情報を統合して最終的な位置推定を行う
機能を提供している．ただし，このライブラリはAndroid端末に特化した実装と
なっており，他のプラットフォームでの利用は困難である．

% TODO 3. indoor-atlasを参考文献に追加する
また，IndoorAtlas\cite{indoor-atlas}は磁気フィンガープリントを主な特徴
とする商用の屋内位置測位SDKである．このSDKはPDRに加えて，建物固有の
磁場パターンの活用により，高精度な位置推定を実現している．しかし，
商用ライブラリであるため，カスタマイズや拡張が制限されており，研究目的
での利用や新しい手法の実装が困難である．

これらの既存ライブラリに共通する課題として，特定のデバイスやプラット
フォームへの依存性が高く，様々な環境や状況に応じた柔軟な対応が
困難である点が挙げられる．
本研究で開発するライブラリは，以下の特徴を持つことでこれらの課題に対処する．

\begin{itemize}
    \item プラットフォーム非依存のPythonによる実装
    \item モジュール化された設計による高い拡張性
    \item 環境情報や補正手法の柔軟な組み合わせ
    \item オープンソースでの提供による研究利用の促進
\end{itemize}

これらの特徴により，
様々な研究や実用的なアプリケーションでの活用が
可能なライブラリの実現を目指す．

